<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>CodeQualityRule.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">java (12-Dec-2019 14:59:49)</a> &gt; <a href="../../index.html" class="el_group">ES1-2019-EIPL-81</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">main.java.model</a> &gt; <span class="el_source">CodeQualityRule.java</span></div><h1>CodeQualityRule.java</h1><pre class="source lang-java linenums">package main.java.model;

import java.util.Date;

/**
 * A class that represents a rule based on predetermined or user-defined metrics
 * and thresholds to detect code defects and thus determine code quality
 * 
 */
public class CodeQualityRule {

	/** Rule's name */
	private String name;

	/** The rule's conditions */
	private String rule;

	/** If the rule is a default rule or new rule added by the user */
	private boolean isDefault;

	/** If the rule should be opened in advanced mode for edition */
	private boolean isAdvanced;

	/** timestamp which allows us to ID the rules */
	private long id;

	/**
	 * Creates a CodeQualityRule object based on:
	 *
	 * @param name       - rule's name, shown in UI
	 * @param rule       - rule's content, ie, the conditions that define it
	 * @param isDefault  - if a rule is default, only its thresholds can be edited
	 * @param isAdvanced - if a rule is advanced, it can never be opened in the
	 *                   basic UI
	 */
<span class="fc" id="L36">	public CodeQualityRule(String name, String rule, boolean isDefault, boolean isAdvanced) {</span>
<span class="fc" id="L37">		this.name = name;</span>
<span class="fc" id="L38">		this.rule = rule;</span>
<span class="fc" id="L39">		this.isDefault = isDefault;</span>
<span class="fc" id="L40">		id = new Date().getTime();</span>
<span class="fc bfc" id="L41" title="All 2 branches covered.">		if (isDefault) {</span>
<span class="fc" id="L42">			this.isAdvanced = true;</span>
<span class="fc" id="L43">		} else {</span>
<span class="fc" id="L44">			this.isAdvanced = isAdvanced;</span>
		}
<span class="fc" id="L46">	}</span>

	/**
	 * Changes the rule's name to a new one
	 * 
	 * @param name - rule's new name. Only changes if it isn't a default rule
	 */
	public void setName(String name) {
<span class="fc bfc" id="L54" title="All 2 branches covered.">		if (!isDefault)</span>
<span class="fc" id="L55">			this.name = name;</span>
<span class="fc" id="L56">	}</span>

	/**
	 * Returns the rule's name
	 * 
	 * @return String name - rule's name
	 */
	public String getName() {
<span class="fc" id="L64">		return name;</span>
	}

	/**
	 * Changes the rule's conditions
	 * 
	 * @param rule - rule's new conditions.
	 */
	public void setRule(String rule) {
<span class="fc" id="L73">		this.rule = rule;</span>
<span class="fc" id="L74">	}</span>

	/**
	 * Returns the rule's conditions
	 * 
	 * @return String rule - rule's conditions
	 */
	public String getRule() {
<span class="fc" id="L82">		return rule;</span>
	}

	/**
	 * Returns boolean that determines if a rule is default or not A default rule is
	 * a rule that can't have its metrics edited only its thresholds
	 * 
	 * @return boolean isDefault - if a rule is default or not
	 */
	public boolean isDefault() {
<span class="fc" id="L92">		return isDefault;</span>
	}

	/**
	 * Sets the state of the rule, determining if it is an advanced rule or a basic
	 * one. If it's a default rule, considers it for edition only in advanced mode.
	 * 
	 * @param isAdvanced - if a rule should be opened in advanced mode
	 */
	public void setAdvanced(boolean isAdvanced) {
<span class="fc bfc" id="L102" title="All 2 branches covered.">		if (isDefault) {</span>
<span class="fc" id="L103">			this.isAdvanced = true;</span>
<span class="fc" id="L104">		} else {</span>
<span class="fc" id="L105">			this.isAdvanced = isAdvanced;</span>
		}
<span class="fc" id="L107">	}</span>

	/**
	 * Returns boolean that determines if a rule is advanced or not. An advanced
	 * rule can't be edited with the basic rule editor
	 * 
	 * @return boolean isAdvanced - if a rule should be opened in advanced mode
	 */
	public boolean isAdvanced() {
<span class="fc" id="L116">		return isAdvanced;</span>
	}

	/**
	 * Makes it so that a CodeQualityRule is displayed by its name
	 * 
	 * @return String name - rule's name
	 */
	public String toString() {
<span class="fc" id="L125">		return this.name;</span>
	}

	/**
	 * Establishes a way of comparing rules based on their id
	 * 
	 * @param otherRule - receives another rule and compares it to this one based on
	 *                  their id
	 * @return true if rules have the same id, false otherwise
	 */
	public boolean equals(CodeQualityRule otherRule) {
<span class="nc bnc" id="L136" title="All 2 branches missed.">		return this.id == otherRule.id;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span>java (12-Dec-2019 14:59:49)</div></body></html>